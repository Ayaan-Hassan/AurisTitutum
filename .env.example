# =============================================================
# AurisTitutum PRO — Environment Variables Reference
#
# For LOCAL DEVELOPMENT:
#   cp .env.example .env.local
#   Fill in real values, then run: vercel dev
#
# For PRODUCTION (Vercel):
#   Set every variable below in your Vercel project dashboard under
#   Settings → Environment Variables.
#   KV_REST_API_URL and KV_REST_API_TOKEN are added automatically
#   when you create a KV store from the Vercel Storage tab.
# =============================================================


# ── Firebase Authentication ──────────────────────────────────────────────────
# Get these from: Firebase Console → Project Settings → Your Apps → Web App
# All values MUST be prefixed with VITE_ so Vite exposes them to the browser.

VITE_FIREBASE_API_KEY=your_firebase_api_key_here
VITE_FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_messaging_sender_id
VITE_FIREBASE_APP_ID=your_firebase_app_id


# ── Backend API URL (optional) ───────────────────────────────────────────────
# In production the frontend and API are on the SAME Vercel deployment,
# so the API is always reachable at /api/* with no separate URL needed.
# Leave this EMPTY (or unset) for normal Vercel deployments.
#
# Only set this if you are pointing the frontend at an external backend:
#   VITE_BACKEND_URL=https://some-other-host.example.com
#
# For local development with `vercel dev` leave it empty — vercel dev
# serves both the Vite frontend and the /api functions on the same port.

VITE_BACKEND_URL=


# ── Google OAuth 2.0 ─────────────────────────────────────────────────────────
# Server-side only — these are read by the /api functions at runtime.
# Do NOT prefix with VITE_ — they must never be exposed to the browser.
#
# Get these from:
#   Google Cloud Console → APIs & Services → Credentials →
#   Create OAuth 2.0 Client ID (Web application)

GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret


# ── Google OAuth Redirect URI ────────────────────────────────────────────────
# This MUST exactly match an Authorized Redirect URI registered in
# Google Cloud Console → APIs & Services → Credentials → your OAuth client.
#
# Add BOTH of these URIs in Google Cloud Console:
#
#   Local development (vercel dev, default port 3000):
#     http://localhost:3000/api/auth/google/callback
#
#   Production:
#     https://your-app-name.vercel.app/api/auth/google/callback
#
# Set this variable to whichever environment you are configuring:

GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/google/callback


# ── Frontend URL (optional) ──────────────────────────────────────────────────
# Used by the OAuth callback handler to redirect the user back to the
# frontend after Google grants consent, and by the CORS helper.
#
# In production, frontend + API share the same Vercel domain, so this
# can be left empty — the callback derives the origin from the request host.
#
# If you want to be explicit (recommended for production):
#   FRONTEND_URL=https://your-app-name.vercel.app
#
# For local development with vercel dev on port 3000, leave empty or set:
#   FRONTEND_URL=http://localhost:3000

FRONTEND_URL=


# ── Upstash Redis (persistent token store) ───────────────────────────────────
# Used by the /api functions to store OAuth tokens and spreadsheet metadata
# across serverless function invocations (Vercel functions are stateless).
#
# HOW TO SET UP — Option A: Vercel Marketplace (recommended, ~60 seconds):
#   1. Open your Vercel project dashboard.
#   2. Click the "Integrations" tab → search for "Upstash Redis".
#   3. Click "Add Integration" and follow the prompts.
#   4. Vercel automatically adds UPSTASH_REDIS_REST_URL and
#      UPSTASH_REDIS_REST_TOKEN to your project's Environment Variables.
#   5. Pull the updated env vars to your local machine:
#        vercel env pull .env.local
#
# HOW TO SET UP — Option B: Upstash directly (upstash.com):
#   1. Create a free account at https://upstash.com
#   2. Click "Create Database" → choose a region close to your users.
#   3. From the database details page, copy:
#        REST URL  → UPSTASH_REDIS_REST_URL
#        REST Token → UPSTASH_REDIS_REST_TOKEN
#   4. Paste the values below and add them to Vercel manually under
#      Settings → Environment Variables.
#
# For local development WITHOUT Redis configured:
#   store.js falls back to an in-memory Map automatically.
#   Data is lost on process restart — fine for local testing.
#   Just re-authorise Google Sheets once per dev session.

UPSTASH_REDIS_REST_URL=https://your-db-name.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_rest_token
